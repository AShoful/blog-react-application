(this.webpackJsonpinquire=this.webpackJsonpinquire||[]).push([[0],{105:function(e,t,n){e.exports=n(160)},110:function(e,t,n){},140:function(e,t,n){},160:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),o=n.n(c),i=n(23),l=(n(110),n(31)),u=n(16),s=n(87);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var m=n(199),p=n(96),d=n.n(p),f=n(187),E=n(190),b=n(192),O=n(193),h=n(194),y=n(195),g=n(188);function v(e){var t=e.children,n=e.window,a=Object(f.a)({disableHysteresis:!0,threshold:0,target:n?n():void 0});return r.a.cloneElement(t,{elevation:a?4:0})}var _=Object(g.a)((function(e){return{root:{minHeight:60,marginBottom:e.spacing(2),padding:0},main:{display:"flex",justifyContent:"space-between"}}})),j=function(e){var t=_();return r.a.createElement(v,Object.assign({},e,{className:t.root}),r.a.createElement(E.a,{position:"sticky"},r.a.createElement(b.a,null,r.a.createElement(O.a,null,r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:12,className:t.main},r.a.createElement(y.a,{color:"inherit",component:i.b,to:"/"},"Home"),r.a.createElement(y.a,{color:"inherit",component:i.b,to:"/addpost"},"Addpost")))))))},R=n(11),S=n(196),w=n(197),D=n(198),x=n(93),C=n.n(x),H=n(92),I=n.n(H),L=Object(g.a)((function(e){return{root:{minHeight:60},icons:{display:"flex",justifyContent:"space-between"},link:{textDecoration:"none",color:e.palette.primary.main}}}));function N(e){var t=e.item,n=e.remove,a=t.id,c=t.title,o=L();return r.a.createElement(b.a,{component:"main",maxWidth:"md",className:o.root},r.a.createElement(h.a,{container:!0,spacing:2,justify:"space-between"},r.a.createElement(h.a,{item:!0,xs:12,sm:10},r.a.createElement(S.a,{className:o.link,component:i.b,to:"/post/".concat(a),variant:"subtitle1"},c)),r.a.createElement(h.a,{item:!0,xs:12,sm:2,className:o.icons},r.a.createElement(w.a,{component:i.b,to:"/post/edit/".concat(a)},r.a.createElement(I.a,{fontSize:"small",color:"primary"})),r.a.createElement(w.a,{onClick:function(){n(a)}},r.a.createElement(C.a,{fontSize:"small",color:"primary"})))),r.a.createElement(D.a,null))}N.defaultProps={item:{id:0,title:"title"},remove:function(){}};var k=Object(g.a)((function(e){return{card:{display:"flex",marginBottom:20,borderBottom:"2px solid rgba(0,0,0, 0.2)"},cardContent:{width:"100%",flexDirection:"column",padding:25},handle:{width:60,height:18,backgroundColor:e.palette.primary.main,marginBottom:7},date:{height:14,width:100,backgroundColor:"rgba(0,0,0, 0.3)",marginBottom:10},fullLine:{height:15,width:"100%",backgroundColor:"rgba(0,0,0, 0.2)",marginBottom:10},halfLine:{height:15,width:"50%",backgroundColor:"rgba(0,0,0, 0.2)",marginBottom:10}}})),T=function(){var e=k(),t=Array.from({length:3}).map((function(t,n){return r.a.createElement("div",{className:e.card,key:n},r.a.createElement("div",{className:e.cardContent},r.a.createElement("div",{className:e.handle}),r.a.createElement("div",{className:e.date}),r.a.createElement("div",{className:e.fullLine}),r.a.createElement("div",{className:e.fullLine}),r.a.createElement("div",{className:e.halfLine})))}));return r.a.createElement(b.a,null,t)},A=Object(g.a)((function(e){return{card:{display:"flex",height:300,fontWeight:600,justifyContent:"center",alignItems:"center",color:e.palette.primary.error,borderBottom:"2px solid rgba(0,0,0, 0.2)"}}})),W=function(e){var t=e.error,n=A();return r.a.createElement(b.a,null,r.a.createElement("div",{className:n.card},t))};W.defaultProps={error:""};var B=W,M=n(17),F=n.n(M),P=n(29),U=n(94),z=n.n(U).a.create({baseURL:"https://bloggy-api.herokuapp.com"}),V=function(){return z.get("/posts")},X=function(e){return z.get("/posts/".concat(e,"?_embed=comments"))},q=function(e){return z.delete("/posts/".concat(e))},J=function(e){return z.post("/comments",e)},$=function(e){return z.post("/posts",e)},G=function(e,t){return z.put("/posts/".concat(t),e)};function K(e){return{type:"SHOW_ERROR",error:e}}function Q(e){return{type:"FETCH_ITEM_SUCCESS",payload:e}}function Y(e){return{type:"FETCH_ITEM_REMOVE",payload:e}}var Z=function(){var e=Object(u.c)((function(e){return e.posts})),t=Object(u.c)((function(e){return e.app})),n=t.loading,a=t.error,c=Object(u.b)(),o=function(e){return c(function(e){return function(){var t=Object(P.a)(F.a.mark((function t(n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(e);case 2:try{n(Y(e)),window.alert("\u041f\u043e\u0441\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d!")}catch(a){n(K(a.message))}case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return r.a.useEffect((function(){c(function(){var e=Object(P.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"SHOW_LOADER"}),t({type:"HIDE_ERROR"}),e.next=4,V();case 4:n=e.sent;try{t({type:"FETCH_ITEMS_SUCCESS",data:n.data}),t({type:"HIDE_LOADER"})}catch(a){t(K(a)),t({type:"HIDE_LOADER"})}case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[c]),a?r.a.createElement(B,{error:a}):r.a.createElement(b.a,{component:"main"},n?r.a.createElement(T,null):e.map((function(e){return r.a.createElement(N,{key:e.id,item:e,remove:o})})))},ee=n(49),te=n(200),ne=Object(g.a)((function(e){return{root:{paddingTop:40},loading:{filter:"blur(2px)"},CardMedia:{marginBottom:e.spacing(1),objectFit:"cover"}}}));function ae(e){var t=e.handleSubmitFetch,n=e.postId,a=e.loading,c=e.post,o=ne(),i=r.a.useState(c?c.title:""),l=Object(ee.a)(i,2),u=l[0],s=l[1],m=r.a.useState(c?c.body:""),p=Object(ee.a)(m,2),d=p[0],f=p[1],E={title:u,body:d};r.a.useEffect((function(){c&&c.title&&(s(c.title),f(c.body))}),[c]);return r.a.createElement(b.a,{component:"main",maxWidth:"md",className:o.root},r.a.createElement("form",{className:a?o.loading:null,noValidate:!0,autoComplete:"off"},r.a.createElement(h.a,{container:!0,spacing:2},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(te.a,{variant:"outlined",label:"Title",value:u,onChange:function(e){return s(e.target.value)},fullWidth:!0})),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(te.a,{variant:"outlined",fullWidth:!0,label:"Body",multiline:!0,rows:"5",onChange:function(e){return f(e.target.value)},value:d})),r.a.createElement(b.a,{maxWidth:"xs"},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"contained",fullWidth:!0,color:"primary",className:o.submit,disabled:!u||!d,onClick:function(){return function(e,n){t(e,n)}(E,n)}},"Send"))))))}var re=function(){var e=Object(u.c)((function(e){return e.app})).loading,t=Object(u.b)();return r.a.createElement(ae,{handleSubmitFetch:function(e){return t(function(e){return function(){var t=Object(P.a)(F.a.mark((function t(n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"SHOW_LOADER"}),n({type:"HIDE_ERROR"}),t.next=4,$(e);case 4:try{n({type:"HIDE_LOADER"}),window.alert("\u041f\u043e\u0441\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!")}catch(a){n({type:"HIDE_LOADER"}),n(K(a.message))}case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},loading:e})},ce=Object(R.g)((function(e){var t=e.match,n=Object(u.c)((function(e){return e.app})),a=n.loading,c=n.error,o=Object(u.b)(),i=+t.params.id,l=Object(u.c)((function(e){return e.posts})).filter((function(e){return e.id===i}));return r.a.useEffect((function(){var e;l.length||o((e=i,function(){var t=Object(P.a)(F.a.mark((function t(n){var a,r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"SHOW_LOADER"}),n({type:"HIDE_ERROR"}),t.next=4,X(e);case 4:a=t.sent;try{r=a.data,n(Q(r)),n({type:"HIDE_LOADER"})}catch(c){n(K(c.message)),n({type:"HIDE_LOADER"})}case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[o,l.length,i]),c?r.a.createElement(B,{error:c}):r.a.createElement(ae,{handleSubmitFetch:function(e,t){return o(function(e,t){return function(){var n=Object(P.a)(F.a.mark((function n(a){return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:"SHOW_LOADER"}),a({type:"HIDE_ERROR"}),n.next=4,G(e,t);case 4:try{a({type:"HIDE_LOADER"}),window.alert("\u041f\u043e\u0441\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d!")}catch(c){a({type:"HIDE_LOADER"}),a(K(c.message))}case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e,t))},post:l[0],postId:i,loading:a})})),oe=n(95),ie=n.n(oe),le=Object(g.a)((function(e){return{name:{color:e.palette.primary.main,fontSize:36,marginBottom:0},text:{fontSize:16,padding:10},form:{paddingBottom:20},input:{width:"80%"}}}));function ue(e){var t=e.post,n=e.addComment,c=Object(a.useState)(""),o=Object(ee.a)(c,2),i=o[0],l=o[1],u=le(),s=t.title,m=t.body,p=t.comments,d={body:i,postId:t.id};return r.a.createElement(b.a,{component:"main",maxWidth:"md",className:u.root},r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:12,sm:12},r.a.createElement(S.a,{className:u.name,gutterBottom:!0,variant:"subtitle1",component:"h4"},s),r.a.createElement(S.a,{className:u.text,variant:"subtitle2",color:"textSecondary",component:"p"},m),r.a.createElement(h.a,{container:!0,className:u.form,justify:"space-between"},r.a.createElement(te.a,{className:u.input,label:"add comment",value:i,onChange:function(e){return l(e.target.value)}}),r.a.createElement(w.a,{color:"primary",disabled:!i,onClick:function(){return n(d)}},r.a.createElement(ie.a,null))),p.map((function(e,t){return r.a.createElement(a.Fragment,{key:t},r.a.createElement(S.a,{className:u.text,variant:"subtitle2",color:"textSecondary",component:"p"},e.body),r.a.createElement(D.a,null))})))),r.a.createElement(D.a,null))}function se(e){return{type:"FETCH_POST_SUCCESS",payload:e}}function me(e){return{type:"ADD_COMMENT",data:e}}ue.defaultProps={addComment:function(){},post:{title:"",body:"",comments:[],id:0}};var pe=function(e){var t=e.match.params.id,n=Object(u.c)((function(e){return e.app})),a=n.loading,c=n.error,o=Object(u.c)((function(e){return e.post})),i=Object(u.b)();r.a.useEffect((function(){return i(function(e){return function(){var t=Object(P.a)(F.a.mark((function t(n){var a,r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"SHOW_LOADER"}),n({type:"HIDE_ERROR"}),t.next=4,X(e);case 4:a=t.sent;try{r=a.data,n(se(r)),n({type:"HIDE_LOADER"})}catch(c){n(K(c.message)),n({type:"HIDE_LOADER"})}case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)),function(){return i({type:"CLEAR_POST"})}}),[t,i]);return c?r.a.createElement(B,{error:c}):r.a.createElement(b.a,{component:"main"},a||!Object.keys(o).length?r.a.createElement(T,{count:1}):r.a.createElement(ue,{post:o,addComment:function(e){return i(function(e){return function(){var t=Object(P.a)(F.a.mark((function t(n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"SHOW_LOADER"}),n({type:"HIDE_ERROR"}),t.next=4,J(e);case 4:try{n({type:"HIDE_LOADER"}),n(me(e)),window.alert("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!")}catch(c){n({type:"HIDE_LOADER"}),n(K(c.message))}case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}}))};pe.defaultProps={match:{}};var de=Object(R.g)(pe),fe=function(){return r.a.createElement(R.d,null,r.a.createElement(R.b,{path:"/",exact:!0,component:Z}),r.a.createElement(R.b,{path:"/addpost",exact:!0,component:re}),r.a.createElement(R.b,{path:"/post/:id",exact:!0,component:de}),r.a.createElement(R.b,{path:"/post/edit/:id",exact:!0,component:ce}),r.a.createElement(R.a,{to:"/"}))},Ee=(n(140),d()({palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},typography:{htmlFontSize:16,useNextVariants:!0,fontSize:12}}));var be=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,{theme:Ee},r.a.createElement(j,null),r.a.createElement(fe,null)))},Oe=n(50),he=n(22),ye={loading:!1,error:null},ge=Object(l.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ITEMS_SUCCESS":return Object(Oe.a)(t.data);case"FETCH_ITEM_SUCCESS":return Object(Oe.a)(e.items?[].concat(Object(Oe.a)(e.items),[t.payload]):[t.payload]);case"FETCH_ITEM_REMOVE":return Object(Oe.a)(e.filter((function(e){return e.id!==t.payload})));default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_LOADER":return Object(he.a)(Object(he.a)({},e),{},{loading:!0});case"HIDE_LOADER":return Object(he.a)(Object(he.a)({},e),{},{loading:!1});case"SHOW_ERROR":return Object(he.a)(Object(he.a)({},e),{},{error:t.error});case"HIDE_ERROR":return Object(he.a)(Object(he.a)({},e),{},{error:null});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POST_SUCCESS":return Object(he.a)({},t.payload);case"ADD_COMMENT":return e.comments.push(t.data),Object(he.a)({},e);case"CLEAR_POST":return{};default:return e}}}),ve="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):l.d,_e=Object(l.e)(ge,ve(Object(l.a)(s.a))),je=r.a.createElement(u.a,{store:_e},r.a.createElement(i.a,null,r.a.createElement(be,null)));o.a.render(je,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[105,1,2]]]);
//# sourceMappingURL=main.1b2d1ca7.chunk.js.map